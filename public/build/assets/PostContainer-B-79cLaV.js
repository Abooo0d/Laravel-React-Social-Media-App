import{j as e,a as _,r as t,L as P,b as S,c as U}from"./app-DIx6L9fD.js";import{b as j}from"./PostCard-DMthNg9j.js";import{F as L,u as M}from"./index-fp-23wq_.js";import{S as W}from"./Spinner-BOWdsVQC.js";import{g as H}from"./index-DQrQpBHy.js";import{P as R,S as T}from"./Buttons-BYWrEsx6.js";const b=()=>e.jsx("div",{className:" flex justify-start items-center w-full",children:e.jsx("div",{className:"w-full min-h-barHeight flex justify-start items-center flex-col gap-3",children:e.jsxs("div",{className:"w-full min-h-barHeight flex justify-start items-center flex-col gap-3 mt-2",children:[e.jsx("div",{className:"w-full flex justify-start items-center flex-col gap-3 mt-2 ",children:e.jsxs("div",{className:"max-w-[700px] w-full dark:bg-gray-900 bg-gray-200 rounded-lg pt-4 pb-0 lg:px-6 px-4 flex flex-col duration-500 ",children:[e.jsxs("div",{className:"flex justify-between items-center flex-row",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-[10px]",children:[e.jsx("div",{className:"rounded-full dark:bg-gray-700 bg-gray-400 w-[60px] h-[60px] animate-pulse duration-200"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsx("div",{className:"w-[150px] h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"}),e.jsx("div",{className:"w-[100px] h-[5px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"})]})]}),e.jsx("div",{className:"w-[40px] h-[40px] dark:bg-gray-700 bg-gray-400 rounded-md animate-pulse duration-200"})]}),e.jsx("div",{className:"flex flex-col w-full my-8 py-4 px-4",children:e.jsxs("div",{className:"space-y-2.5 animate-pulse max-w-lg",children:[e.jsx("div",{className:"w-full h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200 mb-4 "}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[40%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[30%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[60%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[10%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[15%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[15%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[30%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[25%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[60%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[5%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]})]})})]})}),e.jsx("div",{className:"w-full flex justify-start items-center flex-col gap-3 mt-2",children:e.jsxs("div",{className:"max-w-[700px] w-full dark:bg-gray-900 bg-gray-200 rounded-lg pt-4 pb-0 lg:px-6 px-4 flex flex-col duration-500 ",children:[e.jsxs("div",{className:"flex justify-between items-center flex-row",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-[10px]",children:[e.jsx("div",{className:"rounded-full dark:bg-gray-700 bg-gray-400 w-[60px] h-[60px] animate-pulse duration-200"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsx("div",{className:"w-[150px] h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"}),e.jsx("div",{className:"w-[100px] h-[5px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"})]})]}),e.jsx("div",{className:"w-[40px] h-[40px] dark:bg-gray-700 bg-gray-400 rounded-md animate-pulse duration-200"})]}),e.jsx("div",{className:"flex flex-col w-full py-4 px-4",children:e.jsx("div",{className:"flex flex-col w-full py-4 px-4",children:e.jsxs("div",{className:"space-y-2.5 animate-pulse max-w-lg",children:[e.jsx("div",{className:"w-full h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200 mb-4 "}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[50%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[30%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[60%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[10%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[15%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]})]})})})]})}),e.jsx("div",{className:"w-full flex justify-start items-center flex-col gap-3 mt-2",children:e.jsxs("div",{className:"max-w-[700px] w-full dark:bg-gray-900 bg-gray-200 rounded-lg pt-4 pb-0 lg:px-6 px-4 flex flex-col duration-500 ",children:[e.jsxs("div",{className:"flex justify-between items-center flex-row",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-[10px]",children:[e.jsx("div",{className:"rounded-full dark:bg-gray-700 bg-gray-400 w-[60px] h-[60px] animate-pulse duration-200"}),e.jsxs("div",{className:"flex gap-4 flex-col",children:[e.jsx("div",{className:"w-[150px] h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"}),e.jsx("div",{className:"w-[100px] h-[5px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200"})]})]}),e.jsx("div",{className:"w-[40px] h-[40px] dark:bg-gray-700 bg-gray-400 rounded-md animate-pulse duration-200"})]}),e.jsx("div",{className:"flex flex-col w-full py-4 px-4",children:e.jsx("div",{className:"flex flex-col w-full py-4 px-4",children:e.jsxs("div",{className:"space-y-2.5 animate-pulse max-w-lg",children:[e.jsx("div",{className:"w-full h-[8px] rounded-full dark:bg-gray-700 bg-gray-400 animate-pulse duration-200 mb-4 "}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[50%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[15%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]}),e.jsxs("div",{className:"w-full h-[8px] mb-4 flex flex-row gap-4 bg-transparent",children:[e.jsx("div",{className:"w-[35%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"}),e.jsx("div",{className:"w-[10%] h-[8px] dark:bg-gray-700 bg-gray-400 animate-pulse rounded-full"})]})]})})})]})})]})})}),B=({suggestion:a})=>{const{setErrors:g,setSuccessMessage:n}=_(),[c,m]=t.useState(a.is_friend),r=()=>{S.post(route("user.addFriendFormSuggestion",a.id)).then(l=>{var i;m(!0),n((i=l==null?void 0:l.data)==null?void 0:i.message)}).catch(l=>{var i,f;g([((f=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:f.message)||"Some Thing Went Wrong"])})};return e.jsxs("div",{className:"w-[200px] h-[290px] dark:bg-gray-800/50 bg-gray-300 overflow-hidden cursor-pointer rounded-md flex flex-col justify-start items-start border-[1px] border-solid dark:border-gray-600/50 border-gray-400 duration-200 dark:hover:bg-gray-800 hover:bg-gray-400/40",children:[e.jsxs(P,{href:route("profile.view",a.username),className:"w-full h-full",children:[e.jsx("img",{src:a.avatar_url,className:"w-full min-h-[180px] max-h-[180px] rounded-md rounded-b-none object-cover"}),e.jsxs("div",{className:"py-2 px-4 max-h-[50px] min-h-[50px]",children:[e.jsx("h2",{className:"dark:text-gray-300 text-gray-600 mb-0",children:a.name}),e.jsxs("h2",{className:"text-gray-500 text-[12px] m-0",children:["@",a.username]})]})]}),e.jsx("div",{className:"flex w-full max-h-[60px] min-h-[60px] gap-2 px-2 py-3 text-[14px]",children:c?e.jsxs("div",{className:"w-full flex dark:text-gray-400 text-gray-600 justify-center items-center gap-2",children:["Friend Added ",e.jsx(L,{})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{classes:"px-2 py-1.5 flex-1 flex-row gap-2",event:()=>{r()},children:"Add Friend"}),e.jsx(T,{classes:"px-4 py-1.5 w-[50px] text-[12px]",children:"Remove"})]})})]})},V=({data:a,isLoadingSuggestions:g})=>{var m;const[n,c]=t.useState((m=a==null?void 0:a.data)==null?void 0:m.users);return t.useEffect(()=>{var r;c((r=a==null?void 0:a.data)==null?void 0:r.users)},[a]),e.jsxs("div",{className:"max-w-[700px] min-h-[356px] w-full dark:bg-gray-900 bg-gray-200 rounded-lg pb-4 pt-2 px-4 flex flex-col duration-500 shadow-md overflow-x-hidden",children:[e.jsx("h2",{className:"dark:text-gray-300 text-gray-600 pb-2 h-[30px]",children:"People You May Know"}),e.jsx("div",{className:"w-full h-[306px] py-1 flex justify-start items-center gap-2 rounded-md overflow-hidden px-4",children:n==null?void 0:n.map((r,l)=>e.jsx(B,{suggestion:r},l))})]})},G=({posts:a,AllPostsData:g,classes:n,children:c,isLoading:m,refetch:r,suggestions:l,showSuggestions:i,isLoadingSuggestions:f})=>{var k,F;const[C,w,A]=M(),[o,v]=t.useState(a==null?void 0:a.data),[s,N]=t.useState(a),{user:y}=U();let E=H(10);return t.useEffect(()=>{var u,x;w&&((u=s==null?void 0:s.meta)==null?void 0:u.current_page)<((x=s==null?void 0:s.meta)==null?void 0:x.last_page)&&S.get(s.links.next).then(({data:d})=>{v(h=>{var p;return[...h,...(p=d==null?void 0:d.posts)==null?void 0:p.data]}),N(d==null?void 0:d.posts)}).catch(d=>{var h,p;setErrors([((p=(h=d==null?void 0:d.response)==null?void 0:h.data)==null?void 0:p.message)||"Some Thing Went Wrong"])})},[w]),t.useEffect(()=>{v(a==null?void 0:a.data),N(a)},[a]),e.jsx(e.Fragment,{children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:`flex flex-col gap-3 w-full h-full items-center ${n} pt-2 md:pt-4`,children:[c,m?e.jsx(b,{}):e.jsx(e.Fragment,{children:(g==null?void 0:g.length)>0?e.jsx(e.Fragment,{children:(o==null?void 0:o.length)>0?e.jsxs(e.Fragment,{children:[o.map((u,x)=>e.jsx(e.Fragment,{children:x==E?e.jsx(e.Fragment,{children:i?e.jsxs(e.Fragment,{children:[e.jsx(V,{data:l,isLoadingSuggestions:f},x),e.jsx(j,{post:u,currentUser:y,refetch:r},x)]}):e.jsx(j,{post:u,currentUser:y,refetch:r},x)}):e.jsx(j,{post:u,currentUser:y,refetch:r},x)})),((k=s==null?void 0:s.meta)==null?void 0:k.current_page)<((F=s==null?void 0:s.meta)==null?void 0:F.last_page)?e.jsx(W,{ref:C}):e.jsx("div",{className:"text-gray-600 text-sm pb-4",children:"No More Posts"})]}):e.jsx(b,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-gray-600 text-sm",children:"No Posts To Show"}),e.jsx(b,{})]})})]})})})};export{G as P};
