import{r as o,R as N,j as u,a as me,b as ge}from"./app-pzlih_n5.js";import{$ as re,a as ve,w as ye,e as he}from"./switch-DLlGy0IB.js";import{K as B,y as W,n as _,a as F,_ as ae,L as z,b as K,O as te,u as U,t as we}from"./use-sync-refs-D9n70tcw.js";import{f as Pe}from"./use-is-mounted-Qq18NV8m.js";import{f as se,s as je,c as w,o as Te}from"./keyboard-CKQlSSRN.js";import{g as C,T as P,y as V,P as O}from"./focus-management-CkJcdfuF.js";import{R as ne,G as le,d as $e}from"./index-C_hCeJpQ.js";import{S as I}from"./Buttons-Bt7IEB0m.js";import{j as ke,F as Ee,k as Ie}from"./index-BaA3n8ZZ.js";function Ne({onFocus:e}){let[t,r]=o.useState(!0),a=Pe();return t?N.createElement(se,{as:"button",type:"button",features:je.Focusable,onFocus:l=>{l.preventDefault();let n,s=50;function c(){if(s--<=0){n&&cancelAnimationFrame(n);return}if(e()){if(cancelAnimationFrame(n),!a.current)return;r(!1);return}n=requestAnimationFrame(c)}n=requestAnimationFrame(c)}}):null}const ie=o.createContext(null);function Fe(){return{groups:new Map,get(e,t){var r;let a=this.groups.get(e);a||(a=new Map,this.groups.set(e,a));let l=(r=a.get(t))!=null?r:0;a.set(t,l+1);let n=Array.from(a.keys()).indexOf(t);function s(){let c=a.get(t);c>1?a.set(t,c-1):a.delete(t)}return[n,s]}}}function Se({children:e}){let t=o.useRef(Fe());return o.createElement(ie.Provider,{value:t},e)}function ue(e){let t=o.useContext(ie);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=o.useId(),[a,l]=t.current.get(e,r);return o.useEffect(()=>l,[]),a}var Ae=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ae||{}),Ce=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Ce||{}),Re=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Re||{});let De={0(e,t){var r;let a=O(e.tabs,d=>d.current),l=O(e.panels,d=>d.current),n=a.filter(d=>{var v;return!((v=d.current)!=null&&v.hasAttribute("disabled"))}),s={...e,tabs:a,panels:l};if(t.index<0||t.index>a.length-1){let d=U(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>U(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(n.length===0)return s;let v=U(d,{0:()=>a.indexOf(n[0]),1:()=>a.indexOf(n[n.length-1])});return{...s,selectedIndex:v===-1?e.selectedIndex:v}}let c=a.slice(0,t.index),g=[...a.slice(t.index),...c].find(d=>n.includes(d));if(!g)return s;let i=(r=a.indexOf(g))!=null?r:e.selectedIndex;return i===-1&&(i=e.selectedIndex),{...s,selectedIndex:i}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],a=O([...e.tabs,t.tab],n=>n.current),l=e.selectedIndex;return e.info.current.isControlled||(l=a.indexOf(r),l===-1&&(l=e.selectedIndex)),{...e,tabs:a,selectedIndex:l}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:O([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},J=o.createContext(null);J.displayName="TabsDataContext";function R(e){let t=o.useContext(J);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,R),r}return t}let Y=o.createContext(null);Y.displayName="TabsActionsContext";function Q(e){let t=o.useContext(Y);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Q),r}return t}function Me(e,t){return U(t.type,De,e,t)}let Le="div";function Ge(e,t){let{defaultIndex:r=0,vertical:a=!1,manual:l=!1,onChange:n,selectedIndex:s=null,...c}=e;const g=a?"vertical":"horizontal",i=l?"manual":"auto";let d=s!==null,v=K({isControlled:d}),S=W(t),[b,p]=o.useReducer(Me,{info:v,selectedIndex:s??r,tabs:[],panels:[]}),D=o.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),M=K(n||(()=>{})),T=K(b.tabs),m=o.useMemo(()=>({orientation:g,activation:i,...b}),[g,i,b]),A=F(x=>(p({type:1,tab:x}),()=>p({type:2,tab:x}))),L=F(x=>(p({type:3,panel:x}),()=>p({type:4,panel:x}))),y=F(x=>{h.current!==x&&M.current(x),d||p({type:0,index:x})}),h=K(d?e.selectedIndex:b.selectedIndex),k=o.useMemo(()=>({registerTab:A,registerPanel:L,change:y}),[]);_(()=>{p({type:0,index:s??r})},[s]),_(()=>{if(h.current===void 0||b.tabs.length<=0)return;let x=O(b.tabs,$=>$.current);x.some(($,E)=>b.tabs[E]!==$)&&y(x.indexOf(b.tabs[h.current]))});let H={ref:S},G=z();return N.createElement(Se,null,N.createElement(Y.Provider,{value:k},N.createElement(J.Provider,{value:m},m.tabs.length<=0&&N.createElement(Ne,{onFocus:()=>{var x,$;for(let E of T.current)if(((x=E.current)==null?void 0:x.tabIndex)===0)return($=E.current)==null||$.focus(),!0;return!1}}),G({ourProps:H,theirProps:c,slot:D,defaultTag:Le,name:"Tabs"}))))}let Oe="div";function Ue(e,t){let{orientation:r,selectedIndex:a}=R("Tab.List"),l=W(t),n=o.useMemo(()=>({selectedIndex:a}),[a]),s=e,c={ref:l,role:"tablist","aria-orientation":r};return z()({ourProps:c,theirProps:s,slot:n,defaultTag:Oe,name:"Tabs.List"})}let Be="button";function We(e,t){var r,a;let l=o.useId(),{id:n=`headlessui-tabs-tab-${l}`,disabled:s=!1,autoFocus:c=!1,...g}=e,{orientation:i,activation:d,selectedIndex:v,tabs:S,panels:b}=R("Tab"),p=Q("Tab"),D=R("Tab"),[M,T]=o.useState(null),m=o.useRef(null),A=W(m,t,T);_(()=>p.registerTab(m),[p,m]);let L=ue("tabs"),y=S.indexOf(m);y===-1&&(y=L);let h=y===v,k=F(f=>{var j;let q=f();if(q===V.Success&&d==="auto"){let xe=(j=Te(m))==null?void 0:j.activeElement,ee=D.tabs.findIndex(be=>be.current===xe);ee!==-1&&p.change(ee)}return q}),H=F(f=>{let j=S.map(q=>q.current).filter(Boolean);if(f.key===w.Space||f.key===w.Enter){f.preventDefault(),f.stopPropagation(),p.change(y);return}switch(f.key){case w.Home:case w.PageUp:return f.preventDefault(),f.stopPropagation(),k(()=>C(j,P.First));case w.End:case w.PageDown:return f.preventDefault(),f.stopPropagation(),k(()=>C(j,P.Last))}if(k(()=>U(i,{vertical(){return f.key===w.ArrowUp?C(j,P.Previous|P.WrapAround):f.key===w.ArrowDown?C(j,P.Next|P.WrapAround):V.Error},horizontal(){return f.key===w.ArrowLeft?C(j,P.Previous|P.WrapAround):f.key===w.ArrowRight?C(j,P.Next|P.WrapAround):V.Error}}))===V.Success)return f.preventDefault()}),G=o.useRef(!1),x=F(()=>{var f;G.current||(G.current=!0,(f=m.current)==null||f.focus({preventScroll:!0}),p.change(y),we(()=>{G.current=!1}))}),$=F(f=>{f.preventDefault()}),{isFocusVisible:E,focusProps:oe}=re({autoFocus:c}),{isHovered:X,hoverProps:ce}=ve({isDisabled:s}),{pressed:Z,pressProps:de}=ye({disabled:s}),fe=o.useMemo(()=>({selected:h,hover:X,active:Z,focus:E,autofocus:c,disabled:s}),[h,X,E,Z,c,s]),pe=ae({ref:A,onKeyDown:H,onMouseDown:$,onClick:x,id:n,role:"tab",type:he(e,M),"aria-controls":(a=(r=b[y])==null?void 0:r.current)==null?void 0:a.id,"aria-selected":h,tabIndex:h?0:-1,disabled:s||void 0,autoFocus:c},oe,ce,de);return z()({ourProps:pe,theirProps:g,slot:fe,defaultTag:Be,name:"Tabs.Tab"})}let ze="div";function qe(e,t){let{selectedIndex:r}=R("Tab.Panels"),a=W(t),l=o.useMemo(()=>({selectedIndex:r}),[r]),n=e,s={ref:a};return z()({ourProps:s,theirProps:n,slot:l,defaultTag:ze,name:"Tabs.Panels"})}let Ke="div",Ve=te.RenderStrategy|te.Static;function _e(e,t){var r,a,l,n;let s=o.useId(),{id:c=`headlessui-tabs-panel-${s}`,tabIndex:g=0,...i}=e,{selectedIndex:d,tabs:v,panels:S}=R("Tab.Panel"),b=Q("Tab.Panel"),p=o.useRef(null),D=W(p,t);_(()=>b.registerPanel(p),[b,p]);let M=ue("panels"),T=S.indexOf(p);T===-1&&(T=M);let m=T===d,{isFocusVisible:A,focusProps:L}=re(),y=o.useMemo(()=>({selected:m,focus:A}),[m,A]),h=ae({ref:D,id:c,role:"tabpanel","aria-labelledby":(a=(r=v[T])==null?void 0:r.current)==null?void 0:a.id,tabIndex:m?g:-1},L),k=z();return!m&&((l=i.unmount)==null||l)&&!((n=i.static)!=null&&n)?N.createElement(se,{"aria-hidden":"true",...h}):k({ourProps:h,theirProps:i,slot:y,defaultTag:Ke,features:Ve,visible:m,name:"Tabs.Panel"})}let He=B(We),Je=B(Ge),Ye=B(Ue),Qe=B(qe),Xe=B(_e),Ze=Object.assign(He,{Group:Je,List:Ye,Panels:Qe,Panel:Xe});function et(...e){return e.filter(Boolean).join(" ")}const ct=({text:e,key:t})=>u.jsx(Ze,{className:({selected:r})=>et("duration-200 border-2 border-transparent py-2 lg:px-4 md:px-2*: text-sm lg:text-lg border-b-2 outline-none text-gray-800 dark:text-gray-300 ",r?"border-b-indigo-500 dark:text-indigo-300 text-indigo-500":"border-b-transparent"),children:e},t),dt=({showImage:e,photos:t,imageIndex:r,setShowImage:a,setImageIndex:l})=>{const[n,s]=o.useState(0);o.useEffect(()=>{s(t[r])},[e]);const c=i=>{i<t.length-1?(l(i+1),s(t[i+1])):(l(0),s(t[0]))},g=i=>{i>0?(l(i-1),s(t[i-1])):(l(t.length-1),s(t[t.length-1]))};return u.jsx("div",{className:`fixed inset-0 z-[800] w-screen overflow-y-auto flex min-h-full items-center justify-center p-4 dark:bg-gray-950/60 bg-gray-100 backdrop-blur-sm duration-200 ${e?"visible opacity-100":"invisible opacity-0 scale-[95%]"}`,children:u.jsxs("div",{className:"animate-scaleUp h-full  w-full rounded-lg relative flex justify-between items-center dark:bg-gray-900/60 bg-gray-300/60 border-solid border-[1px] dark:border-gray-700 border-gray-400 backdrop-blur-md p-4",children:[u.jsxs("div",{className:"absolute top-[30px] right-[12px] h-20 flex justify-center items-center gap-2 flex-col",children:[u.jsx(I,{classes:"py-1.5 px-3 right-0",event:()=>a(!1),children:u.jsx(ne,{className:"w-5 h-5 dark:text-gray-200 text-gray-600"})}),n!==0&&u.jsx("a",{href:route("post.download",n??0),className:"no-underline",children:u.jsx(I,{classes:"relative py-1.5 px-3",event:()=>{},children:u.jsx(le,{className:"w-5 h-5 dark:text-gray-200 text-gray-600"})})}),u.jsx(I,{classes:" py-1.5 px-3 right-0 w-[46px] cursor-default",event:()=>{},children:r?r+1:1})]}),u.jsx(I,{event:()=>g(r),classes:"h-[100px] w-[35px]",children:u.jsx(ke,{className:"w-6 h-6 flex justify-center items-center"})}),e&&u.jsx("div",{className:"relative w-full h-full flex ",children:t==null?void 0:t.map((i,d)=>u.jsx(N.Fragment,{children:$e(i)?u.jsx("img",{src:i.url,alt:"Post Image",className:`max-w-[90%] max-h-[90%] object-contain rounded-[10px] absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] duration-200 ${d===r?"visible opacity-100":"invisible opacity-0 scale-75"}`},d):u.jsxs("div",{className:`max-w-[90%] max-h-[90%] w-[400px] h-[400px] rounded-lg cursor-default bg-gray-800 flex justify-center items-center flex-col gap-4  absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] duration-200 ${d===r?"visible opacity-100":"invisible opacity-0 scale-75"}`,children:[u.jsx(Ee,{className:"w-20 h-20 text-gray-500"}),u.jsx("h3",{className:"text-gray-500 font-bold text-xl max-w-[80%] break-words text-center",children:i==null?void 0:i.name})]})},d))}),u.jsx(I,{event:()=>{c(r)},classes:"h-[100px] w-[35px]",children:u.jsx(Ie,{className:"w-6 h-6"})})]})})},ft=({show:e,setShowImage:t,image:r,downloadUrl:a})=>{const{setErrors:l}=me(),[n,s]=o.useState("");return o.useEffect(()=>{s(r)},[r]),u.jsx("div",{className:`fixed inset-0 z-[800] w-screen overflow-y-auto flex min-h-full items-center justify-center p-4 dark:bg-gray-950/60 bg-gray-100/50 backdrop-blur-sm duration-200 ${e?"visible opacity-100":"invisible opacity-0 scale-[95%]"}`,children:u.jsxs("div",{className:"animate-scaleUp h-full w-full rounded-lg relative flex justify-between items-center dark:bg-gray-900/60 bg-gray-300/50 border-solid border-[1px] dark:border-gray-700 border-gray-400 backdrop-blur-md p-4",children:[u.jsxs("div",{className:"absolute top-[12px] right-[12px] h-20 flex justify-center items-center gap-2 flex-col z-[100]",children:[u.jsx(I,{classes:"py-1.5 px-3",event:()=>t(!1),children:u.jsx(ne,{className:"w-5 h-5 text-gray-200"})}),u.jsx(I,{classes:"relative py-1.5 px-3",event:()=>{ge.get(a).catch(c=>{var g,i;console.log(c),l([((i=(g=c==null?void 0:c.response)==null?void 0:g.data)==null?void 0:i.message)||"Some Thing Went Wrong"])})},children:u.jsx(le,{className:"w-5 h-5 text-gray-200"})})]}),e&&u.jsx("div",{className:"relative w-full h-full flex z-0",children:u.jsx("img",{src:n,alt:"Post Image",className:"max-w-[90%] max-h-[90%] object-contain rounded-[10px] absolute top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] duration-200"})})]})})};export{ct as C,dt as P,Ze as T,ft as a};
